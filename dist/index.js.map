{"version":3,"file":"index.js","sources":["../src/Input/Input.js","../src/Button/Button.js","../src/LineChart/LineChart.js","../src/Barchart/BarChart.js","../src/index.js"],"sourcesContent":["import React from 'react'\n\nimport './Input.scss'\n\nexport const Input = () => {\n  return <input className='alia-input' />\n}\n","import React from 'react'\n\nimport './Button.scss'\n\nexport const Button = ({ type = 'button', children }) => {\n  return <button type={type} className=\"d-button\">{children}</button>\n}\n","import React, { Fragment, useState } from 'react'\nimport Tooltip from '../Tooltip'\nimport './LineChart.scss'\n\nexport const LineChart = ({ height, width, padding, data, labels, hourly=true }) => {\n  const [tooltipVisible, setTooltipVisible] = useState(null)\n\n  if (!data) return null\n\n  const initialState2 = {}\n  data.forEach((data, idx) => (initialState2[idx] = true))\n\n  const [visible, setVisible] = useState(initialState2)\n\n  const colors = [\n    '#55bcc8',\n    '#304e62',\n    '#ABABAB',\n    '#304e62',\n    '#55bcc8',\n    '#ABABAB'\n  ]\n\n  const colorsFill = [\n    '#55bcc8',\n    '#304e62',\n    '#ABABAB',\n    '#304e62',\n    '#55bcc8',\n    '#ABABAB'\n  ]\n  const FONT_SIZE = 12\n\n  const maxX = Math.max(...data.map((d) => Math.max(...d.map((e) => e.x))))\n  const minX = Math.min(...data.map((d) => Math.min(...d.map((e) => e.x))))\n\n  const maxValue = Math.max(...data.map((d) => Math.max(...d.map((e) => e.y)))) * 1.25;\n  const maxZeros = 10 ** (maxValue.toFixed().toString().length - 1)\n  const maxY = (Math.ceil(maxValue / maxZeros) * maxZeros) || 5\n\n  const minValue = Math.min(...data.map((d) => Math.min(...d.map((e) => e.y)))) * 1.25;\n  const minZeros = 10 ** (Math.abs(minValue).toFixed().toString().length - 1)\n  let minY = (Math.floor(minValue / minZeros) * minZeros)\n  const zeroY = height + padding - Math.abs(minY)/ Math.abs(maxY - minY)*height || 200;\n  if (minY > 0){\n    minY = 0\n  }\n  \n  console.log(\"minimum\", minY)\n  console.log(\"max\", maxY)\n\n  const points = data.map((singlePlot) =>\n    singlePlot\n      .map((element) => {\n        // Calculate coordinates\n        const x = ((element.x - minX) / (maxX - minX)) * width + padding\n        const y = height - (element.y / Math.abs(maxY - minY)) * height + padding - Math.abs(minY)/ Math.abs(maxY - minY)*height \n        return `${x},${y}`\n      })\n      .join(' ')\n  )\n\n  const polygonPoints = data.map((singlePlot) =>\n    (`0,${zeroY} ` +  singlePlot\n      .map((element) => {\n        // Calculate coordinates\n        const x = ((element.x - minX) / (maxX - minX)) * width + padding\n        const y = height - (element.y / Math.abs(maxY - minY)) * height + padding - Math.abs(minY)/ Math.abs(maxY - minY)*height \n        return `${x},${y}`\n      })\n      .join(' ') + ` ${width},${zeroY}`) \n  )\n\n\n  const pointsCoords = data.map((singlePlot, idx) =>\n    singlePlot\n      .map((element) => {\n        // Calculate coordinates\n        const x = ((element.x - minX) / (maxX - minX)) * width + padding\n        const y = height - (element.y / Math.abs(maxY - minY)) * height + padding - Math.abs(minY)/ Math.abs(maxY - minY)*height \n        \n        return [x, y, element.y, idx, element.label]\n      })\n  )\n  \n  const Axis = ({ points, stroke='#EDEDED' }) => (\n    <polyline\n      fill='solid'\n      stroke={stroke}\n      strokeWidth='1'\n      points={points}\n      strokeLinecap='round'\n    />\n  )\n\n  const XAxis = () => {\n    \n\n    return (<Axis stroke='#a0a0a0' points={`${padding},${zeroY} ${width},${zeroY}`} />);\n\n  }\n\n\n\n  const HorizontalGuides = () => {\n    const startX = padding\n    const endX = width\n    const numberOfHorizontalGuides = 5\n\n    return new Array(numberOfHorizontalGuides -1).fill(0).map((_, index) => {\n      const yRatio = Math.abs(maxY-minY) / numberOfHorizontalGuides\n      const ratio = (index + 1) / numberOfHorizontalGuides\n      const displayNumber = index * yRatio + yRatio + minY;\n      const yCoordinate = height - height * ratio + padding\n\n      return (\n        <Fragment key={index}>\n          <text\n            key={`${index}-text`}\n            x={startX}\n            y={ displayNumber>=0 ? (yCoordinate - 5) : (yCoordinate + 15) }\n            style={{\n              fontSize: 14,\n              fontFamily: 'Nunito',\n              fill: colors[2],\n              fontWeight: 'bold'\n            }}\n          >\n            {(index * yRatio + yRatio + minY ).toPrecision(4)} KW\n          </text>\n          <polyline\n            key={index}\n            fill='none'\n            stroke='#e0e0e0'\n            strokeDasharray='1 5'\n            strokeLinecap='round'\n            strokeWidth='1'\n            points={`${startX},${yCoordinate} ${endX},${yCoordinate}`}\n          />\n        </Fragment>\n      )\n    })\n  }\n\n\n  const labelsXAxisHourly = () => {\n    const hours = []\n\n    let lastHour = null\n    for(let element of data[0]){\n      const currentHour = element.label.split(':')[0]\n      const currentHalf = (element.label.split(':')[1] > 20 && element.label.split(':')[1] < 40) ? 30 : null\n      if(lastHour != currentHour){\n        hours.push([element.x - 1, `${lastHour}:${currentHalf ? '30':'00'}`])\n        lastHour = currentHour\n      } \n\n\n    }\n  \n    return hours.slice(1)\n  }\n\n\n  const LabelsXAxis = () => {\n    const y = height - padding + FONT_SIZE * 2 - Math.abs(minY)/Math.abs(maxY-minY)*height || 224;\n\n\n    if(hourly){\n        const labelsPerHour = labelsXAxisHourly()\n        return labelsPerHour.map((element, index) => {\n            const x =\n            ((element[0] - minX) / (maxX - minX)) * width + 10 - FONT_SIZE / 2\n    \n          return (\n            <text\n              key={index}\n              x={x}\n              y={y - 20}\n              dominantBaseline='central'\n              textAnchor='start'\n              transform={`rotate(45, ${x}, ${y})`}\n              style={{\n                fill: '#a0a0a0',\n                fontSize: FONT_SIZE,\n                fontWeight: 'bold',\n                fontFamily: 'Nunito'\n              }}\n            >\n              {element[1]}\n            </text>\n          )\n          })\n    }\n\n    return data[0].map((element, index) => {\n      const x =\n        ((element.x - minX) / (maxX - minX)) * width + 10 - FONT_SIZE / 2\n\n      return (\n        <text\n          key={index}\n          x={x}\n          y={y - 20}\n          dominantBaseline='central'\n          textAnchor='start'\n          transform={`rotate(45, ${x}, ${y})`}\n          style={{\n            fill: '#a0a0a0',\n            fontSize: FONT_SIZE,\n            fontWeight: 'bold',\n            fontFamily: 'Nunito'\n          }}\n        >\n          {element.label}\n        </text>\n      )\n    })\n  }\n  // const YAxis = () => (\n  //   <Axis points={`${padding},${padding} ${padding},${height - padding}`} />\n  // )\n\n  const handleVisible = (idx) => {\n    setVisible((prevState) => {\n      const newState = { ...prevState }\n      newState[idx] = !newState[idx]\n      return newState\n    })\n  }\n\n\n  const Mark = ({coord, idx, onMouseOver, onMouseLeave, color=\"red\"}) => {\n\n    return (\n     <g key={`dot-${idx}`} pointerEvents='all' onMouseOver={onMouseOver} onMouseLeave={onMouseLeave}>\n        <circle cx={coord[0]} cy={coord[1]} r='3' fill={color}/>\n      </g>\n      )\n  }\n\n\n  const Tooltips = ({x=500,y=70, label=\"545.245 MW\", sublabel=\"3:24:02\"}) => {\n\n    const rectPos = [x-35, y - 40]\n\n    const height = 25\n    const width = 50\n\n    return (<>\n      <rect x={rectPos[0]} y={rectPos[1]} width={width + label.length*4} height={height} rx=\"15\" fill=\"#c0c0c0\">\n      </rect>\n      <text\n        x={rectPos[0] + (width - label.length)/3}\n        y={rectPos[1] + height/2}\n        style={{\n          fill: 'white',\n          fontSize: '0.7rem',\n          fontWeight: 'bold',\n          fontFamily: 'Nunito'\n        }}>\n          {label}\n      </text>\n      <text\n        x={rectPos[0] + (width - label.length)/3}\n        y={rectPos[1] + height/2 + 10}\n        style={{\n          fill: 'white',\n          fontSize: '0.6rem',\n          fontWeight: 'bold',\n          fontFamily: 'Nunito'\n        }}>\n          {sublabel}\n      </text>\n\n      </>\n    )\n  }\n\n  \n\n  return (\n    <>\n      <div className='phase' style={{ float: 'right', marginBottom: '15px'}}>\n        {points.map((points, idx) => (\n          <a\n            key={idx}\n            style={{ color: colors[idx], opacity: visible[idx] ? 1 : 0.5 }}\n            onClick={(e) => handleVisible(idx)}\n          >\n            {labels[idx]}\n          </a>\n        ))}\n      </div>\n      <svg viewBox={`0 0 ${width} ${height + 100}`}>\n        <style>{`.small {color: 'red'} .linear {backgroundColor:'blue'}`}</style>\n        <defs>\n          <linearGradient  id=\"three_opacity_0\" gradientTransform=\"rotate(90)\">\n            <stop offset=\"0%\" stopColor={colorsFill[0]} stopOpacity=\"0.7\" />\n            <stop offset=\"50%\" stopColor={colorsFill[0]} stopOpacity=\"0.2\" />\n            <stop offset=\"100%\" stopColor={colorsFill[0]} stopOpacity=\"0.0\" />\n          </linearGradient>\n          <linearGradient  id=\"three_opacity_1\" gradientTransform=\"rotate(90)\">\n            <stop offset=\"0%\" stopColor={colorsFill[1]} stopOpacity=\"0.7\" />\n            <stop offset=\"50%\" stopColor={colorsFill[1]} stopOpacity=\"0.2\" />\n            <stop offset=\"100%\" stopColor={colorsFill[1]} stopOpacity=\"0.0\" />\n          </linearGradient>\n          <linearGradient  id=\"three_opacity_2\" gradientTransform=\"rotate(90)\">\n            <stop offset=\"0%\" stopColor={colorsFill[2]} stopOpacity=\"0.7\" />\n            <stop offset=\"50%\" stopColor={colorsFill[2]} stopOpacity=\"0.2\" />\n            <stop offset=\"100%\" stopColor={colorsFill[2]} stopOpacity=\"0.0\" />\n          </linearGradient>\n        </defs>\n        <XAxis />\n        <LabelsXAxis />\n        \n        {/* <YAxis /> */}\n        <HorizontalGuides />\n        {polygonPoints.map((points, idx) => {\n          if (visible[idx]) {\n            return (<>\n               <polygon points={points} fill={`url('#three_opacity_${idx}')`}/>\n              </>\n            )\n          }\n        })}\n        {points.map((points, idx) => {\n          if (visible[idx]) {\n            return (<>\n              <polyline\n                key={idx}\n                fill='none'\n                stroke={colors[idx]}\n                strokeWidth='3px'\n                strokeLinecap='round'\n                strokeDasharray='1'\n                points={points}\n              />\n              </>\n            )\n          }\n        })}\n\n\n        {pointsCoords.map((coords, idxParent) => {\n          if (visible[idxParent]) {\n            return coords.map((coord, idx)=> {\n\n              return <>\n                <Mark \n                  key={idx}\n                  coord={coord} \n                  idx={idx} \n                  color={colors[idxParent]}\n                  onMouseOver={()=> setTooltipVisible(`${coord[0]}-${coord[3]}`)}\n                  onMouseLeave={()=>{\n                    setTooltipVisible(null)}}\n                ></Mark>\n              </>\n            }\n            )\n          }\n\n        })}     \n        {pointsCoords.map((coords, idx) => {\n            if (visible[idx]) {\n              return coords.map((coord, idx)=> {\n                const quantity = coord[2].toFixed(2)\n                return <>\n                  { tooltipVisible == `${coord[0]}-${coord[3]}` &&  \n                  <Tooltips key={idx} x={coord[0]} y={coord[1]} label={`${quantity} kW`} sublabel={coord[4]}>\n                  </Tooltips>}\n                </>\n              }\n              )\n            }\n          })}   \n      </svg>\n\n      \n    </>\n  )\n}\n","import React, { Fragment, useState } from 'react'\nimport './BarChart.scss'\n\nexport const BarChart = (props) => {\n  const { height, width, padding, data } = props\n\n  if (!data) return null\n\n  const initialState2 = {}\n  for (const key in data.data) {\n    initialState2[key] = true\n  }\n\n  const [visible, setVisible] = useState(initialState2)\n  // console.log(visible)\n  const colors = ['#55BDC8', '#304e62', '#ABABAB']\n  const FONT_SIZE = 12\n\n  const maxValue = Math.max(...[].concat(...Object.values(data.data)))\n  const zeros = 10 ** (maxValue.toFixed().toString().length - 1)\n  let maxY = (Math.ceil(maxValue / zeros) * zeros)\n\n  if (maxY < 1) {\n    maxY = 1\n  }\n\n  const xValues = Math.max(\n    ...Object.keys(data.data).map((key, idx) => data.data[key].length)\n  )\n\n  const deltaX = (width - 50) / xValues\n  // console.log(deltaX)\n  // console.log(maxY)\n  // generate [[[[x,y], [x,y]],[xy, xy]], []]\n  const points = Object.values(data.data).map((series) => {\n    return series.map((point, idx) => [\n      50 + deltaX * idx + 8,\n      height - (point / maxY) * height\n    ])\n  })\n\n  const Axis = ({ points }) => (\n    <polyline\n      fill='solid'\n      stroke='#EDEDED'\n      strokeWidth='2'\n      points={points}\n      strokeLinecap='round'\n    />\n  )\n\n  const XAxis = () => (\n    <Axis points={`${padding},${height + 36} ${width},${height + 36}`} />\n  )\n\n  const HorizontalGuides = () => {\n    const startX = padding\n    const endX = width\n    const numberOfHorizontalGuides = 5\n\n    return new Array(numberOfHorizontalGuides).fill(0).map((_, index) => {\n      const yRatio = maxY / numberOfHorizontalGuides\n      const ratio = (index + 1) / numberOfHorizontalGuides\n\n      const yCoordinate = height - height * ratio + padding + 20\n\n      return (\n        <Fragment key={index}>\n          <text\n            key={`${index}-text`}\n            x={startX}\n            y={yCoordinate - 5}\n            style={{\n              fontSize: 10,\n              fontFamily: 'Nunito',\n              fill: colors[2]\n            }}\n          >\n            {(index * yRatio + yRatio).toFixed(2)} kWh\n          </text>\n          <polyline\n            key={index}\n            fill='none'\n            stroke='#EDEDED'\n            strokeDasharray='3 3'\n            strokeLinecap='round'\n            strokeWidth='1'\n            points={`${startX},${yCoordinate} ${endX},${yCoordinate}`}\n          />\n        </Fragment>\n      )\n    })\n  }\n\n  const LabelsXAxis = () => {\n    const y = height - padding + FONT_SIZE * 2\n\n    return data.labels.map((element, index) => {\n      const x =\n        ((index - 0) / (12.7 - 0)) * width + 65 - FONT_SIZE / 2\n\n      return (\n        <text\n          key={index}\n          x={x}\n          y={y + 28}\n          style={{\n            fill: '#ccc',\n            fontSize: FONT_SIZE,\n            fontWeight: 'bold',\n            fontFamily: 'Nunito'\n          }}\n        >\n          {element}\n        </text>\n      )\n    })\n  }\n  // const YAxis = () => (\n  //   <Axis points={`${padding},${padding} ${padding},${height - padding}`} />\n  // )\n\n  const handleVisible = (idx) => {\n    setVisible((prevState) => {\n      const newState = { ...prevState }\n      newState[idx] = !newState[idx]\n      return newState\n    })\n  }\n\n  return (\n    <>\n      <div className='phase' style={{ float: 'right', marginBottom: '15px' }}>\n        {Object.keys(data.data).map((key, idx) => (\n          <a\n            key={idx}\n            style={{ color: colors[idx], opacity: visible[key] ? 1 : 0.5 }}\n            onClick={(e) => handleVisible(key)}\n          >\n            {key}\n          </a>\n        ))}\n      </div>\n      <svg viewBox={`0 0 ${width} ${height + 60}`}>\n        <style>{`.small {color: 'red'} `}</style>\n\n        <XAxis />\n        <LabelsXAxis />\n        {/* <YAxis /> */}\n        <HorizontalGuides />\n        {points.map((series, idx) => {\n          if (visible[Object.keys(data.data)[idx]]) {\n            return series.map((point, idxline) => {\n              // <polyline\n              //   key={idx}\n              //   fill='none'\n              //   stroke={colors[idx]}\n              //   strokeWidth='3px'\n              //   strokeLinecap='round'\n              //   strokeDasharray='10 5'\n              //   points={points}\n              // />\n              return (\n                <line\n                  key={idxline}\n                  x1={point[0] + idx * 14}\n                  y1={point[1] + 25}\n                  x2={point[0] + idx * 14}\n                  y2={height + 25}\n                  stroke={colors[idx]}\n                  strokeWidth='9.5'\n                  strokeLinecap='round'\n                />\n              )\n            })\n          }\n          return null\n        })}\n      </svg>\n    </>\n  )\n}\n","import React from 'react'\nimport styles from './styles.module.css'\n// import Input from './Input'\n\n// Components\nexport { Input } from './Input'\nexport { Button } from './Button'\nexport { LineChart } from './LineChart'\nexport { BarChart } from './Barchart'\n\nexport const ExampleComponent = ({ text }) => {\n  return <div className={styles.test}>Example Component: {text}</div>\n}\n\n// export const Input = () => <div>Hola</div>\n"],"names":["Input","React","Button","type","children","LineChart","height","width","padding","data","labels","hourly","useState","tooltipVisible","setTooltipVisible","initialState2","forEach","idx","visible","setVisible","colors","colorsFill","FONT_SIZE","maxX","Math","max","map","d","e","x","minX","min","maxValue","y","maxZeros","toFixed","toString","length","maxY","ceil","minValue","minZeros","abs","minY","floor","zeroY","console","log","points","singlePlot","element","join","polygonPoints","pointsCoords","label","Axis","stroke","XAxis","HorizontalGuides","startX","endX","numberOfHorizontalGuides","Array","fill","_","index","yRatio","ratio","displayNumber","yCoordinate","Fragment","fontSize","fontFamily","fontWeight","toPrecision","labelsXAxisHourly","hours","lastHour","currentHour","split","currentHalf","push","slice","LabelsXAxis","labelsPerHour","handleVisible","prevState","newState","Mark","coord","onMouseOver","onMouseLeave","color","Tooltips","sublabel","rectPos","marginBottom","opacity","coords","idxParent","quantity","BarChart","props","key","concat","Object","values","zeros","xValues","keys","deltaX","series","point","idxline","ExampleComponent","text","styles","test"],"mappings":"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"}